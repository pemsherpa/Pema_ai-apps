<div class="main-buttons">
  <div class="year-buttons">
    <div 
      class="year-button" 
      *ngFor="let year of availableYears" 
      [class.selected]="selectedYears[year]"
      (click)="toggleYearSelection(year)">
      {{ year }}
    </div>
  </div>
</div>

<div *ngFor="let step of quartileData">
  <ng-container [ngSwitch]="step.scope">
    <p class="scope-headings" *ngSwitchCase="'scope1'">{{ step.year }} {{ step.scope }}<br>Q{{step.quarter}}</p>
    <app-scope1-step
      *ngSwitchCase="'scope1'"
      [stepData]="step"
      (stepToggled)="onStepToggled(step)">
    </app-scope1-step>

    <p class="scope-headings" *ngSwitchCase="'scope2'">{{ step.year }} {{ step.scope }}<br>Q{{step.quarter}}</p>
    <app-scope2-step
      *ngSwitchCase="'scope2'"
      [stepData]="step"
      (stepToggled)="onStepToggled(step)">
    </app-scope2-step>

    <p class="scope-headings" *ngSwitchCase="'scope3'">{{ step.year }} {{ step.scope }}<br>Q{{step.quarter}}</p>
    <app-scope3-step
      *ngSwitchCase="'scope3'"
      [stepData]="step"
      (stepToggled)="onStepToggled(step)">
    </app-scope3-step>
  </ng-container>
</div>
