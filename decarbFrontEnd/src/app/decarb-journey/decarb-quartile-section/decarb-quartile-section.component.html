<div *ngFor="let step of quartileData; let i = index" class="step-container">
  <div class="step-title-bar" (click)="toggleStep(i)">
    <span>{{ step.title }}</span>
      <span *ngIf="step.isExpanded" class="dropdown-arrow">&#9650;</span> <!-- Up arrow when expanded -->
    
    
  </div>

  <div *ngIf="step.isExpanded">
    <ng-container [ngSwitch]="step.scope">
      <app-scope1-step *ngSwitchCase="'scope1'" [stepData]="step" (stepToggled)="onStepToggled(step)"></app-scope1-step>
      <app-scope2-step *ngSwitchCase="'scope2'" [stepData]="step" (stepToggled)="onStepToggled(step)"></app-scope2-step>
      <app-scope3-step *ngSwitchCase="'scope3'" [stepData]="step" (stepToggled)="onStepToggled(step)"></app-scope3-step>
    </ng-container>
  </div>
</div>


