<div class="main-buttons">
  <div class="year-buttons">
    <div 
      class="year-button" 
      *ngFor="let year of availableYears" 
      [class.selected]="selectedYears[year]"
      (click)="toggleYearSelection(year)">
      {{ year }}
    </div>
  </div>
</div>

<div *ngFor="let step of quartileData; let i = index" class="step-container">
  <div class="step-title-bar" (click)="toggleStep(i)">
    <span>{{ step.title }}</span>
  </div>

  <div *ngIf="step.isExpanded">
    <ng-container [ngSwitch]="step.scope">
      <app-scope1-step *ngSwitchCase="'scope1'" [stepData]="step" (stepToggled)="onStepToggled(step)"></app-scope1-step>
      <app-scope2-step *ngSwitchCase="'scope2'" [stepData]="step" (stepToggled)="onStepToggled(step)"></app-scope2-step>
      <app-scope3-step *ngSwitchCase="'scope3'" [stepData]="step" (stepToggled)="onStepToggled(step)"></app-scope3-step>
    </ng-container>
  </div>
</div>

