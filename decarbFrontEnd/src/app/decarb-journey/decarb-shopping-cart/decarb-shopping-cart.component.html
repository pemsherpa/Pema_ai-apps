<!-- Target Section -->
<link href="https://fonts.googleapis.com/css2?family=Karla&display=swap" rel="stylesheet">
<div class="Shopping-cart">
<div class="target"(mouseenter)="showScopeTargets = true" (mouseleave)="showScopeTargets = false">
  <div class="target-info">
    <p><b>Reduction Target</b></p>
    <p>
      {{ getTotalCO2Savings() }}/{{ targetGoal }} kgCO2e
      <i
        class="info-icon"
        title="Info">ℹ️</i>
    </p>
    
    <!-- Tooltip for scope targets -->
    <div *ngIf="showScopeTargets" class="tooltip">
      <div class="container">
        <!-- Reduction Percentage Section -->
        <div class="reduction-section">
          <div class="reduction-header">
            <h4>Reduction percentage</h4>
            <p class="timeframe">Period 5 years</p>
          </div>
          
          <!-- Scope 1 Reduction -->
          <div class="reduction-item" *ngIf="scopeData">
            <p>Scope 1</p>
            <div class="progress-bar">
              <div class="progress-scope" [ngStyle]="{'width': getScopePercentage(scopeData.scope_1_target) + '%'}"></div>
            </div>
            <p>{{ scopeData.scope_1_target * 100 | number: '1.0-0' }}%</p>
          </div>
      
          <!-- Scope 2 Reduction -->
          <div class="reduction-item" *ngIf="scopeData">
            <p>Scope 2</p>
            <div class="progress-bar">
              <div class="progress-scope"[style.width.%]="getScopePercentage(scopeData.scope_2_target)"></div>
            </div>
            <p>{{ scopeData.scope_2_target * 100 | number: '1.0-0' }}%</p>
          </div>
      
          <!-- Scope 3 Reduction -->
          <div class="reduction-item" *ngIf="scopeData">
            <p>Scope 3</p>
            <div class="progress-bar">
              <div class="progress-scope" [style.width.%]="getScopePercentage(scopeData.scope_3_target)"></div>
            </div>
            <p>{{ scopeData.scope_3_target * 100 | number: '1.0-0' }}%</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Progress Bar Section -->
  
  <div class="progress-bar">
    <div class="progress" [style.width.%]="getProgressPercentage()"></div>
  </div>
  <div class="description">
  <p>Great job! You're {{ getProgressPercentage() | number: '1.0-0' }}% to your goal!</p>
  <div class="expression-container">
    <img [src]="getExpression()" alt="Facial Expression" />
  </div>
</div>
</div>
<div class="journey-item-header">
  <p>Your Journey</p>
<p>Cost Savings</p>
<p>CO2 Savings</p></div>
<!-- Journey Items -->
<div *ngFor="let item of cartItems; let i = index" class="journey-item">
  <button class="remove-btn" (click)="removeItem(i)">×</button>
  
  <!-- Content aligned horizontally -->
  <div class="journey-item-info">
    <h4>{{ item.name }}</h4>
    <p class="transition-percentage">{{ item.transition }}% Transition</p>
  </div>
  
  <div class="savings-container">
    <p class="savings">${{ item.costSavings }}</p>
    <p class="savings">{{ item.co2Savings }} kgCO2e</p>
  </div>
</div>

<!-- Add Item Button -->
<!--<button (click)="addItem(New Journey Item', 3000, -6000, 0)">Add Item</button>-->

<!-- Savings Summary -->
<div class="savings-summary">
  <h3>Savings</h3>
  <div class="savings-content">
  <p>${{ getTotalCostSavings() }}K</p>
  <p>{{ getTotalCO2Savings() }} kgCO2e</p>
</div>
</div>
</div>


